<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clunogs.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clunogs</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="docs.html"><div class="inner"><span>Using clunogs</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="clunogs.core.html"><div class="inner"><span>clunogs.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clunogs.core.html#var-*api-url*"><div class="inner"><span>*api-url*</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-*headers*"><div class="inner"><span>*headers*</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-advanced-search"><div class="inner"><span>advanced-search</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-all-pages"><div class="inner"><span>all-pages</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-api-call"><div class="inner"><span>api-call</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-deleted"><div class="inner"><span>deleted</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-episode-details"><div class="inner"><span>episode-details</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-expiring"><div class="inner"><span>expiring</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-format-query"><div class="inner"><span>format-query</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-genre-ids"><div class="inner"><span>genre-ids</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-images"><div class="inner"><span>images</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-imdb-info"><div class="inner"><span>imdb-info</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-imdb-update"><div class="inner"><span>imdb-update</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-list-countries"><div class="inner"><span>list-countries</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-new-releases"><div class="inner"><span>new-releases</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-season-changes"><div class="inner"><span>season-changes</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-set-api-key"><div class="inner"><span>set-api-key</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-title-details"><div class="inner"><span>title-details</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-weekly-episodes"><div class="inner"><span>weekly-episodes</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-weekly-updates"><div class="inner"><span>weekly-updates</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-with-api-url"><div class="inner"><span>with-api-url</span></div></a></li><li class="depth-1"><a href="clunogs.core.html#var-with-headers"><div class="inner"><span>with-headers</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clunogs.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*api-url*"><h3>*api-url*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">uNoGS api endpoint url.

Can be rebound for a set of calls using the `with-api-url` macro.</pre></div></div><div class="public anchor" id="var-*headers*"><h3>*headers*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Default headers map sent with all api requests.

Can be rebound for a set of calls using the `with-headers` macro.
`set-api-key` can be used to add your api key to the headers.</pre></div></div><div class="public anchor" id="var-advanced-search"><h3>advanced-search</h3><div class="usage"><code>(advanced-search &amp; {:keys [query clist genreid vtype audio subtitle audio-sub-andor simdbrate eimdbrate imdbvotes votes-gt-lt snfrate enfrate syear eyear downloadable sortby page api-key], :or {audio "Any", query "", audio-sub-andor "and", clist "all", imdbvotes 0, syear 1900, eimdbrate 10, downloadable nil, simdbrate 0, enfrate 5, page 1, snfrate 0, sortby "Relevance", eyear 3000, subtitle "Any", vtype "Any", genreid 0, votes-gt-lt "gt"}})</code></div><div class="doc"><pre class="plaintext">Query the api for results that match an advanced search filter.
The following parameters are accepted:

* `:query` - An optional map that specifies the type of search. If not
provided the query will return all items that match the other supplied
parameters. Each map must contain a `:type` key with one of the following
values:   

  1. `:title` - Contains `:title` that specifies a title string to search for.
    * Ex. `{:type :title, :title "Bird Box"}`
  2. `:new-releases` - Contains `:daysback`.
    * Ex. `{:type :new-releases, :daysback 7}`
  3. `:season-changes` - Contains `:daysback`.
    * Ex. `{:type :season-changes, :daysback 10}`
  4. `:expiring` - Contains `:countryid`.
    * Ex. `{:type :expiring, :countryid "US"}`

* `:clist` - A single numerical country id, a vector of then, or "all". Note
that two letter country codes (ex. US) are not valid here. For a list of
corresponding numerical and letter ids call `list-countries`.
* `:genreid` - A numerical genre id. Call `genre-ids` for a list.
* `:vtype` - "Any", "Movie" or "Series".
* `:audio` - An audio langugage. Ex. "English" or "Chinese".
* `:subtitle` - A subtitle language. Ex. "English" or "Chinese".
* `:audio-sub-andor` - "and" or "or". Determines whether an item must have
both the audio and subtitle languages match, or either of them match.
* `:simdbrate` - Minimum imdb rating. An integer in the range of 0 to 10.
* `:eimdbrate` - Maximum imdb rating. An integer in the range of 0 to 10.
* `:imdbvotes` - A number of votes for an item to have recieved on IMDB. Can
either be tested against as a floor or ceiling based on the value of
`:votes-gt-lt`.
* `:votes-gt-lt` - "gt" or "lt". Determines whether the value of
`:imdbvotes` is tested as a floor or ceiling.
* `:snfrate` - Minimum netflix rating. An integer in the range of 0 to 5.
* `:enfrate` - Maximum netflix rating. An integer in the range of 0 to 5.
* `:syear` - The minimum release year.
* `:eyear` - The maximum release year.
* `:downloadable` - An optional value. "Yes", "No" or unspecified.
* `:sortby` - Sort results by "Relevence", "Date", "Rating", "Title",
"VideoType", "FilmYear", or "Runtime".
* `:page` - An integer 1 or greater. Groups of up to 100 results will be
returned and this value will page through them.

As almost all of the above parameters are required, so the most inclusive values
are used by default.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=5690bcdee4b0e203818a6518">https://rapidapi.com/unogs/api/unogs?endpoint=5690bcdee4b0e203818a6518</a></pre></div></div><div class="public anchor" id="var-all-pages"><h3>all-pages</h3><h4 class="type">macro</h4><div class="usage"><code>(all-pages f)</code></div><div class="doc"><pre class="plaintext">Take an api call `f` and call it for each page to aggregate all items.

This macro does not take into account the possibility of a change in the
number of items in between api calls effecting the number of pages required to
fetch all items.</pre></div></div><div class="public anchor" id="var-api-call"><h3>api-call</h3><div class="usage"><code>(api-call method &amp; {:keys [query-params api-key headers url], :or {headers *headers*, url *api-url*}})</code></div><div class="doc"><pre class="plaintext">Perform the specified `method` call to the api.

If this function is not provided values for `:headers` or `:url` will use the
default global values `*headers*` and `*api-url*` respectively.</pre></div></div><div class="public anchor" id="var-deleted"><h3>deleted</h3><div class="usage"><code>(deleted daysback &amp; {:keys [countryid title api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for items deleted during `daysback`.
Optionally, search for a specific `:title` and/or in a specific
`:countryid`.

This request has a special case, where its `:countryid` can either be the
standard, two letter country ID, or it can be a collection of numerical
country codes found by calling `list-countries`.

This query returns every item that matches the criteria, so there is no need
to supply a `:page` value.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=5c23d6cee4b067d7d9563e18">https://rapidapi.com/unogs/api/unogs?endpoint=5c23d6cee4b067d7d9563e18</a></pre></div></div><div class="public anchor" id="var-episode-details"><h3>episode-details</h3><div class="usage"><code>(episode-details netflixid &amp; {:keys [api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for episode details of `netflixid`.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=56770f5ae4b059e645dc3d57">https://rapidapi.com/unogs/api/unogs?endpoint=56770f5ae4b059e645dc3d57</a></pre></div></div><div class="public anchor" id="var-expiring"><h3>expiring</h3><div class="usage"><code>(expiring countryid &amp; {:keys [page api-key], :or {page 1}})</code></div><div class="doc"><pre class="plaintext">Query the api for items expiring in `countryid`.
Up to 100 results will be returned. Additional items can be accessed by
providing `:page` greater than 1.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentaion: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=56757595e4b04bcce8ec15ad">https://rapidapi.com/unogs/api/unogs?endpoint=56757595e4b04bcce8ec15ad</a></pre></div></div><div class="public anchor" id="var-format-query"><h3>format-query</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-genre-ids"><h3>genre-ids</h3><div class="usage"><code>(genre-ids &amp; {:keys [api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for a map of genres and corresponding ids.

The output of this function is slightly transformed from the response format.
The generes are given as a vector where each element is a map containing a
single pairing of a genre key to a vector of its genre ids. For your
convenience, this is flattened into a single map of genre keys to their genre
ids.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=5676f219e4b04efee9356e43">https://rapidapi.com/unogs/api/unogs?endpoint=5676f219e4b04efee9356e43</a></pre></div></div><div class="public anchor" id="var-images"><h3>images</h3><div class="usage"><code>(images netflixid &amp; {:keys [api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for images corresponding to `netflixid`.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=57304268e4b002251bb1798d">https://rapidapi.com/unogs/api/unogs?endpoint=57304268e4b002251bb1798d</a></pre></div></div><div class="public anchor" id="var-imdb-info"><h3>imdb-info</h3><div class="usage"><code>(imdb-info filmid &amp; {:keys [api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for imdb info of `filmid` (a netflix or imdb id).

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=5ab02664e4b06ec3937b50a2">https://rapidapi.com/unogs/api/unogs?endpoint=5ab02664e4b06ec3937b50a2</a></pre></div></div><div class="public anchor" id="var-imdb-update"><h3>imdb-update</h3><div class="usage"><code>(imdb-update imdbid &amp; {:keys [api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api to update the imdb info of `imdbid`.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=58179d9ee4b0c681e4af7b08">https://rapidapi.com/unogs/api/unogs?endpoint=58179d9ee4b0c681e4af7b08</a></pre></div></div><div class="public anchor" id="var-list-countries"><h3>list-countries</h3><div class="usage"><code>(list-countries &amp; {:keys [available api-key], :or {available true}})</code></div><div class="doc"><pre class="plaintext">Query the api for a list of countries.
By default, it will return a list of countries where uNoGS information is
actively updated. By providing `:available false`, it will return a list of
countries where uNoGS is actively updated and countries that were previously
cataloged.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNogs documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=56770144e4b0c2a9f0e83c8e">https://rapidapi.com/unogs/api/unogs?endpoint=56770144e4b0c2a9f0e83c8e</a></pre></div></div><div class="public anchor" id="var-new-releases"><h3>new-releases</h3><div class="usage"><code>(new-releases daysback countryid &amp; {:keys [page api-key], :or {page 1}})</code></div><div class="doc"><pre class="plaintext">Query the api for new releases during `daysback` in `countryid`.
Up to 100 results will be returned. Additional items can be accessed by
providing `:page` greater than 1.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=5675480ee4b059e645dc3a63">https://rapidapi.com/unogs/api/unogs?endpoint=5675480ee4b059e645dc3a63</a></pre></div></div><div class="public anchor" id="var-season-changes"><h3>season-changes</h3><div class="usage"><code>(season-changes daysback countryid &amp; {:keys [page api-key], :or {page 1}})</code></div><div class="doc"><pre class="plaintext">Query the api for changes to TV series seasons during `daysback` in `countryid`.
Up to 100 results will be returned. Additional items can be accessed by
providing `:page` greater than 1.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=56c4b2c5e4b07732012a3315">https://rapidapi.com/unogs/api/unogs?endpoint=56c4b2c5e4b07732012a3315</a></pre></div></div><div class="public anchor" id="var-set-api-key"><h3>set-api-key</h3><div class="usage"><code>(set-api-key api-key)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-title-details"><h3>title-details</h3><div class="usage"><code>(title-details netflixid &amp; {:keys [api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for title details of `netflixid`.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=56770d2de4b04efee9356e62">https://rapidapi.com/unogs/api/unogs?endpoint=56770d2de4b04efee9356e62</a></pre></div></div><div class="public anchor" id="var-weekly-episodes"><h3>weekly-episodes</h3><div class="usage"><code>(weekly-episodes &amp; {:keys [api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for a list of netflix title id's with weekly added episodes.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=570212a0e4b028dd93816233">https://rapidapi.com/unogs/api/unogs?endpoint=570212a0e4b028dd93816233</a></pre></div></div><div class="public anchor" id="var-weekly-updates"><h3>weekly-updates</h3><div class="usage"><code>(weekly-updates daysback &amp; {:keys [title countryid api-key]})</code></div><div class="doc"><pre class="plaintext">Query the api for for a list of titles with series that update weekly within
`daysback`.

Optionally, a specific title or country can be searched by supplying `:title`
or `:countryid` respectively.

This request contains a special case, where `:countryid` can either be the
standard, two letter country ID, or it can be given as a collection of them.

An `:api-key` can be passed to this function, overwriting the api key
specified globally via the set-api-key function.

uNoGS documentation: <a href="https://rapidapi.com/unogs/api/unogs?endpoint=5c617d57e4b08cf00f3fd3ea">https://rapidapi.com/unogs/api/unogs?endpoint=5c617d57e4b08cf00f3fd3ea</a></pre></div></div><div class="public anchor" id="var-with-api-url"><h3>with-api-url</h3><h4 class="type">macro</h4><div class="usage"><code>(with-api-url new-api-url &amp; body)</code></div><div class="doc"><pre class="plaintext">Rebind `*api-url*` with `new-api-url` in `body`.
</pre></div></div><div class="public anchor" id="var-with-headers"><h3>with-headers</h3><h4 class="type">macro</h4><div class="usage"><code>(with-headers new-headers &amp; body)</code></div><div class="doc"><pre class="plaintext">Rebind `*headers*` with `new-headers` in `body`.
</pre></div></div></div></body></html>